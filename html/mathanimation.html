<!DOCTYPE html>
<html>
    <head>
        <style type="text/css">
            body {
                margin: 0px;
                overflow: hidden;
            }
            canvas {
                margin: 0px;
                width: 100%;
                height: 100%;
            }
        </style>
    </head>
    <body>
        <canvas id="canvas" width="1920" height="1080"></canvas>
        <script>
            //canvas
            var c = document.getElementById("canvas");
            var ctx = c.getContext("2d");
            
            //time in animation
            var t = 0;
            
            //tests if between two values
            function between(value, a, b) {
                if (value >= a && value < b) {
                    return true;
                }
                return false;
            }

            //clamps between two values
            function clamp(value, a, b) {
                if (value < a) {
                    return a;
                }
                if (value > b) {
                    return b;
                }
                return value;
            }
            
            function startHoldExit(a, b, c, d, f1, f2, f3) {
                if (between(t, a, b)) {
                    f1()
                } else if (between(t, b, c)) {
                    f2()
                } else if (between(t, c, d)) {
                    f3()
                }
            }

            function fadeInOut(a, b, c, d, f) {
                if (between(t, a, b)) {
                    f((t - a) / (b - a));
                } else if (between(t, b, c)) {
                    f(1);
                } else if (between(t, c, d)) {
                    f(1 - (t - c) / (d - c));
                }
            }

            function polynomialEase(a, b, degree, c, d, f) {
                if (between(t, c, d)) {
                    f(Math.pow((t - a) / b, degree));
                }
            }

            function exponentialEaseIn(a, b, base) {
                if (between(t, a, b)) {
                    return 1 - Math.pow(base, (t - a) / (b - a)) + base;
                } else {
                    return 0;
                }
            }

            function exponentialEaseOut(a, b, base) {
                if (between(t, a, b)) {
                    return 1 - Math.pow(base, 1 - (t - a) / (b - a)) + base;
                } else {
                    return 0;
                }
            }

            function hsla(h, s, l, a) {
                return "hsla(" + h + "," + s + "%," + l + "%," + clamp(a, 0, 1) + ")";
            }

            function eventChain(times, functions) {
                for (var i = 0; times.length - 1 > i; i++) {
                    if (between(t, times[i], times[i + 1])) {
                        functions[i]();
                    }
                }
            }

            function loop() {
                ctx.fillStyle = "#EEEEEE";
                ctx.fillRect(0, 0, c.width, c.height);



                ctx.textAlign = "center";

                //intro which just says "adasba"
                fadeInOut(20, 100, 120, 200, function (a) {
                    ctx.font = "Bold 72px Courier";
                    ctx.fillStyle = hsla(0, 0, 20, a);
                    startHoldExit(20, 100, 120, 200, function () {
                        ctx.fillText("adasba", 960, exponentialEaseIn(20, 100, 0.01) * 540);
                    }, function () {
                        ctx.fillText("adasba", 960, 540);
                    }, function () {
                        ctx.fillText("adasba", 960, exponentialEaseOut(120, 200, 0.01) * 540);
                    });
                });


                //background lines and grid and all that for graph
                ctx.lineWidth = 4;

                fadeInOut(235, 255, 3000, 3050, function (a) {
                    ctx.strokeStyle = hsla(0, 0, 20, a);
                    ctx.beginPath();
                    ctx.moveTo(0, 540);
                    ctx.lineTo(1920, 540)
                    ctx.stroke();
                });

                fadeInOut(240, 260, 3000, 3050, function (a) {
                    ctx.strokeStyle = hsla(0, 0, 20, a);
                    ctx.beginPath();
                    ctx.moveTo(960, 0);
                    ctx.lineTo(960, 1080);
                    ctx.stroke();
                });
                
                ctx.font = "Bold 32px Courier";

                for (var i = 0; 7 > i; i++) {
                    fadeInOut(245 + 5 * i, 265 + 5 * i, 3000, 3050, function (a) {
                        ctx.strokeStyle = hsla(0, 0, 20, a);
                        ctx.fillStyle = hsla(0, 0, 20, a);
                        ctx.beginPath();
                        ctx.moveTo(210 + 250 * i, 520);
                        ctx.lineTo(210 + 250 * i, 560);
                        ctx.stroke();
                        if (i != 3) {
                            ctx.fillText(i - 3, 210 + 250 * i, 600);
                        }
                    });
                }
                for (var i = 0; 5 > i; i++) {
                    fadeInOut(250 + 5 * i, 270 + 5 * i, 3000, 3050, function (a) {
                        ctx.strokeStyle = hsla(0, 0, 20, a);
                        ctx.fillStyle = hsla(0, 0, 20, a);
                        ctx.beginPath();
                        ctx.moveTo(940, 1080 - (40 + 250 * i));
                        ctx.lineTo(980, 1080 - (40 + 250 * i));
                        ctx.stroke();
                        if (i != 2) {
                            ctx.fillText(i - 2, 920, 1090 - (40 + 250 * i));
                        }
                    });
                }

                fadeInOut(260, 280, 3000, 3050, function (a) {
                    ctx.fillStyle = hsla(0, 0, 20, a);
                    ctx.fillText("0", 920, 600);
                });




                //point
                fadeInOut(230, 250, 3000, 3050, function (a) {
                    ctx.fillStyle = hsla(0, 0, 20, a);
                    ctx.beginPath();
                    eventChain([230, 500, 550, 1000], [function () {
                        ctx.arc(960, 540, 10, 0, Math.PI * 2);
                    }, function () {
                        var exp = exponentialEaseIn(500, 550, 0.005);
                        ctx.arc(960 + Math.cos(Math.PI / -3) * 250 * exp, 540 + Math.sin(Math.PI / -3) * 250 * exp, 10, 0, Math.PI * 2);
                    }, function () {
                        ctx.arc(960 + Math.cos(Math.PI / -3) * 250, 540 + Math.sin(Math.PI / -3) * 250, 10, 0, Math.PI * 2);
                    }]);
                    ctx.fill();
                });



                ctx.font = "Bold 72px Courier";
                ctx.textAlign = "left";

                fadeInOut(300, 320, 380, 400, function (a) {
                    ctx.fillStyle = hsla(0, 0, 20, a);
                    ctx.fillText("Take a point...", 1000, 450);
                });
                
                fadeInOut(400, 420, 500, 520, function (a) {
                    ctx.fillStyle = hsla(0, 0, 20, a);
                    ctx.fillText("Put it somewhere", 1000, 370);
                    ctx.fillText("on the unit circle.", 1000, 450);
                });

                t++;

                requestAnimationFrame(loop);
            }
            loop();
        </script>
    </body>
</html>